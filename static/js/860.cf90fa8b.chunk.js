"use strict";(self.webpackChunkinvoicer=self.webpackChunkinvoicer||[]).push([[860],{3791:function(e,n,s){s.d(n,{Z:function(){return k}});var t=s(1413),a=s(9439),r=s(4554),i=s(493),l=s(4852),o=s(6259),c=s(4395),u=s(4663),d=s(890),m=s(3400),x=s(9953),h=s(2791),p=s(2279);var f=function(e){var n=e.children,s=e.window,t=(0,p.Z)({disableHysteresis:!0,threshold:0,target:s?s():void 0});return h.cloneElement(n,{elevation:t?4:0})},b=s(8008),g=s(9031),j=s(3967),N=s(5193),v=s(6030),y=s(1087),Z=s(7201),w=s(7689),C=s(184),k=function(e){var n=(0,g.Z)(),s=(0,h.useState)(!1),p=(0,a.Z)(s,2),k=p[0],S=p[1],F=(0,h.useState)(!1),P=(0,a.Z)(F,2),B=P[0],A=P[1],I=(0,v.v9)((function(e){return e.user.user})),U=(0,w.s0)(),q=function(e){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&S(e)}};(0,h.useEffect)((function(){I.id?A(!0):A(!1)}),[I.id]);var z=function(){window.location.reload(!1),(0,Z.CF)("success","Goodbye!\ud83d\udc4b")},O=function(){U("/profile",{state:{source:"from_dashboard"}})},E=function(){U("/dashboard")},T=(0,j.Z)(),H=(0,N.Z)(T.breakpoints.down("sm"));return(0,C.jsx)(r.Z,{sx:{marginBottom:"70px"},children:(0,C.jsx)(f,(0,t.Z)((0,t.Z)({},e),{},{children:(0,C.jsx)(c.Z,{children:(0,C.jsxs)(u.Z,{className:n.toolBar,children:[B?(0,C.jsx)(y.rU,{to:"/dashboard",children:(0,C.jsx)(d.Z,{variant:"h6",className:n.logo,children:"Invoicer"})}):(0,C.jsx)(y.rU,{to:"/invoice-management-system",children:(0,C.jsx)(d.Z,{variant:"h6",className:n.logo,children:"Invoicer"})}),H?(0,C.jsxs)(r.Z,{children:[(0,C.jsx)(m.Z,{size:"large",edge:"end",color:"inherit","aria-label":"menu",onClick:q(!0),children:(0,C.jsx)(b.Z,{className:n.menuIcon,fontSize:"large"})}),(0,C.jsx)(x.ZP,{anchor:"right",open:k,onClose:q(!1),children:(0,C.jsx)(r.Z,{sx:{width:250},role:"presentation",onClick:q(!1),onKeyDown:q(!1),children:(0,C.jsx)(i.Z,{children:B?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.ZP,{onClick:function(){return E()},children:(0,C.jsx)(o.Z,{primary:"Home"})}),(0,C.jsx)(l.ZP,{onClick:function(){return O()},children:(0,C.jsx)(o.Z,{primary:"Profile"})}),(0,C.jsx)(l.ZP,{onClick:function(){return z()},children:(0,C.jsx)(o.Z,{primary:"Sign Out"})})]}):(0,C.jsx)(y.rU,{to:"/login",children:(0,C.jsx)(l.ZP,{button:!0,children:(0,C.jsx)(o.Z,{primary:"Log in"})})})})})})]}):(0,C.jsx)(r.Z,{sx:{display:"flex",justifyContent:"space-between",flexGrow:"0.05"},children:B?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.Z,{className:n.link,onClick:function(){return E()},children:"Home"}),(0,C.jsx)(d.Z,{className:n.link,onClick:function(){return O()},children:"Profile"}),(0,C.jsx)(d.Z,{className:n.link,onClick:function(){return z()},children:"Sign Out"})]}):(0,C.jsx)(y.rU,{to:"/login",children:(0,C.jsx)(d.Z,{className:n.link,children:"Log in"})})})]})})}))})}},6860:function(e,n,s){s.r(n);var t=s(4165),a=s(5861),r=s(9439),i=s(2791),l=s(7689),o=s(4290),c=s(6312),u=s(9692),d=s(6030),m=s(3791),x=s(9388),h=s(7201),p=s(184);n.default=function(e){console.log("aa",e);var n=(0,d.v9)((function(e){return e.user.user})),s=(0,i.useState)(""),f=(0,r.Z)(s,2),b=f[0],g=f[1],j=(0,i.useState)(""),N=(0,r.Z)(j,2),v=N[0],y=N[1],Z=(0,i.useState)(""),w=(0,r.Z)(Z,2),C=w[0],k=w[1],S=(0,i.useState)(""),F=(0,r.Z)(S,2),P=F[0],B=F[1],A=(0,i.useState)(""),I=(0,r.Z)(A,2),U=I[0],q=I[1],z=(0,i.useState)(""),O=(0,r.Z)(z,2),E=O[0],T=O[1],H=(0,i.useState)(""),D=(0,r.Z)(H,2),G=D[0],L=D[1],_=(0,i.useState)(""),J=(0,r.Z)(_,2),R=J[0],M=J[1],K=(0,i.useState)(""),V=(0,r.Z)(K,2),W=V[0],Y=V[1],Q=(0,i.useState)(""),X=(0,r.Z)(Q,2),$=X[0],ee=X[1],ne=(0,i.useState)(""),se=(0,r.Z)(ne,2),te=se[0],ae=se[1],re=(0,i.useState)(""),ie=(0,r.Z)(re,2),le=ie[0],oe=ie[1],ce=(0,i.useState)(""),ue=(0,r.Z)(ce,2),de=ue[0],me=ue[1],xe=(0,i.useState)("https://www.pesmcopt.com/admin-media/images/default-logo.png"),he=(0,r.Z)(xe,2),pe=he[0],fe=he[1],be=(0,l.s0)(),ge=(0,l.TH)().state,je=(0,i.useState)(!0),Ne=(0,r.Z)(je,2),ve=Ne[0],ye=Ne[1],Ze=(0,i.useState)(!0),we=(0,r.Z)(Ze,2),Ce=we[0],ke=we[1];(0,i.useEffect)((function(){if(!n.id)return be("/login");try{var e=(0,u.IO)((0,u.hJ)(c.ZP,"businesses"),(0,u.ar)("user_id","==",n.id)),s=(0,u.cf)(e,function(){var e=(0,a.Z)((0,t.Z)().mark((function e(s){var a,r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],s.forEach((function(e){a.push(e.data().name)})),ye(!1),console.log("business.length ",a.length),a.length>0&&ke(!1),"from_login"===ge.source&&a.length>0&&be("/dashboard"),r=(0,u.IO)((0,u.hJ)(c.ZP,"businesses"),(0,u.ar)("user_id","==",n.id)),e.next=9,(0,u.PL)(r);case 9:(i=e.sent).forEach((function(e){console.log("docdata",e.id,i);var n=e.data();g(n.businessName),y(n.businessAddress),k(n.businessCity),B(n.businessState),q(n.businessPincode),T(n.businessGSTN),L(n.accountName),M(n.accountNumber),Y(n.ifscCode),ee(n.bankName),ae(n.bankBranch),oe(n.declarations),me(n.notesForUser)}));case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());return function(){return s()}}catch(r){console.log(r)}}),[be,n.id]);var Se=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(s){var r,i,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),console.log("button clicked",Ce),e.prev=2,!Ce){e.next=9;break}return e.next=6,(0,u.ET)((0,u.hJ)(c.ZP,"businesses"),{user_id:n.id,businessName:b,businessAddress:v,businessCity:C,businessState:P,businessPincode:U,businessGSTN:E,accountName:G,accountNumber:R,ifscCode:W,bankName:$,bankBranch:te,declarations:le,notesForUser:de});case 6:r=e.sent,e.next=16;break;case 9:return i=(0,u.IO)((0,u.hJ)(c.ZP,"businesses"),(0,u.ar)("user_id","==",n.id)),e.next=12,(0,u.PL)(i);case 12:return e.sent.forEach((function(e){r=e.id})),e.next=16,(0,u.r7)((0,u.JU)(c.ZP,"businesses",r),{user_id:n.id,businessName:b,businessAddress:v,businessCity:C,businessState:P,businessPincode:U,businessGSTN:E,accountName:G,accountNumber:R,ifscCode:W,bankName:$,bankBranch:te,declarations:le,notesForUser:de});case 16:if(l=(0,o.iH)(c.tO,"businesses/".concat(r,"/image")),"https://www.pesmcopt.com/admin-media/images/default-logo.png"===pe){e.next=23;break}return e.next=20,(0,o.sf)(l,pe,"data_url").then((0,a.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Jt)(l);case 2:return n=e.sent,e.next=5,(0,u.r7)((0,u.JU)(c.ZP,"businesses",r),{logo:n});case 5:(0,h.CF)("success","Your profile has been created!");case 6:case"end":return e.stop()}}),e)}))));case 20:be("/dashboard"),e.next=24;break;case 23:be("/dashboard");case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(2),console.log(e.t0),(0,h.CF)("error","Sorry some error while updating the details, Please try again.");case 30:case"end":return e.stop()}}),e,null,[[2,26]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)(p.Fragment,{children:ve?(0,p.jsx)(x.Z,{}):(0,p.jsxs)("div",{children:[(0,p.jsx)(m.Z,{}),(0,p.jsxs)("div",{className:"w-full md:p-8 md:w-2/3 md:shadow mx-auto mt-8 rounded p-3 my-8",children:[(0,p.jsx)("h3",{className:"text-center font-bold text-xl mb-6",children:"Setup Business Profile"}),(0,p.jsxs)("form",{className:"w-full mx-auto flex flex-col",onSubmit:Se,children:[(0,p.jsx)("label",{htmlFor:"businessName",className:"text-sm",children:"Name"}),(0,p.jsx)("input",{type:"text",required:!0,className:"py-2 px-4 bg-gray-100 w-full mb-6 capitalize rounded",name:"businessName",value:b,onChange:function(e){return g(e.target.value)}}),(0,p.jsxs)("div",{className:"flex items-end space-x-4",children:[(0,p.jsxs)("div",{className:"flex flex-col w-1/2",children:[(0,p.jsx)("label",{htmlFor:"businessAddress",className:"text-sm",children:"Address"}),(0,p.jsx)("input",{type:"text",required:!0,className:"py-2 px-4 bg-gray-100 w-full mb-6 capitalize rounded",name:"businessAddress",value:v,onChange:function(e){return y(e.target.value)}})]}),(0,p.jsxs)("div",{className:"flex flex-col w-1/2",children:[(0,p.jsx)("label",{htmlFor:"businessCity",className:"text-sm",children:"City"}),(0,p.jsx)("input",{type:"text",required:!0,className:"py-2 px-4 bg-gray-100 w-full mb-6 capitalize rounded",name:"businessCity",value:C,onChange:function(e){return k(e.target.value)}})]})]}),(0,p.jsxs)("div",{className:"flex items-end space-x-4",children:[(0,p.jsxs)("div",{className:"flex flex-col w-1/2",children:[(0,p.jsx)("label",{htmlFor:"businessState",className:"text-sm",children:"State"}),(0,p.jsx)("input",{type:"text",required:!0,className:"py-2 px-4 bg-gray-100 w-full mb-6 capitalize rounded",name:"businessState",value:P,onChange:function(e){return B(e.target.value)}})]}),(0,p.jsxs)("div",{className:"flex flex-col w-1/2",children:[(0,p.jsx)("label",{htmlFor:"businessPincode",className:"text-sm",children:"Pincode"}),(0,p.jsx)("input",{type:"text",required:!0,className:"py-2 px-4 bg-gray-100 w-full mb-6 capitalize rounded",name:"businessPincode",value:U,onChange:function(e){return q(e.target.value)}})]})]}),(0,p.jsx)("label",{htmlFor:"businessGSTN",className:"text-sm",children:"GSTN"}),(0,p.jsx)("input",{type:"text",required:!0,className:"py-2 px-4 bg-gray-100 w-full mb-6 capitalize rounded",name:"businessGSTN",value:E,onChange:function(e){return T(e.target.value)}}),(0,p.jsx)("h3",{className:"text-center font-bold text-xl mb-6",children:"Setup Business Bank Details"}),(0,p.jsx)("label",{htmlFor:"accountName",className:"text-sm",children:"Account Holder Name"}),(0,p.jsx)("input",{type:"text",required:!0,className:"py-2 px-4 bg-gray-100 w-full mb-6 capitalize rounded",name:"accountName",value:G,onChange:function(e){return L(e.target.value)}}),(0,p.jsxs)("div",{className:"flex items-end space-x-4",children:[(0,p.jsxs)("div",{className:"flex flex-col w-1/2",children:[(0,p.jsx)("label",{htmlFor:"accountNumber",className:"text-sm",children:"Account Number"}),(0,p.jsx)("input",{type:"number",required:!0,className:"py-2 px-4 bg-gray-100 w-full mb-6 rounded",name:"accountNumber",value:R,onChange:function(e){return M(e.target.value)}})]}),(0,p.jsxs)("div",{className:"flex flex-col w-1/2",children:[(0,p.jsx)("label",{htmlFor:"bankName",className:"text-sm",children:"Bank Name"}),(0,p.jsx)("input",{type:"text",required:!0,className:"py-2 px-4 bg-gray-100 w-full mb-6 capitalize rounded",name:"bankName",value:$,onChange:function(e){return ee(e.target.value)}})]})]}),(0,p.jsxs)("div",{className:"flex items-end space-x-4",children:[(0,p.jsxs)("div",{className:"flex flex-col w-1/2",children:[(0,p.jsx)("label",{htmlFor:"ifscCode",className:"text-sm",children:"IFSC Code"}),(0,p.jsx)("input",{type:"number",required:!0,className:"py-2 px-4 bg-gray-100 w-full mb-6 rounded",name:"ifscCode",value:W,onChange:function(e){return Y(e.target.value)}})]}),(0,p.jsxs)("div",{className:"flex flex-col w-1/2",children:[(0,p.jsx)("label",{htmlFor:"bankBranch",className:"text-sm",children:"Bank Branch"}),(0,p.jsx)("input",{type:"text",required:!0,className:"py-2 px-4 bg-gray-100 w-full mb-6 capitalize rounded",name:"bankBranch",value:te,onChange:function(e){return ae(e.target.value)}})]})]}),(0,p.jsx)("h3",{className:"text-center font-bold text-xl mb-6",children:"Additional Details"}),(0,p.jsx)("label",{htmlFor:"declarations",className:"text-sm",children:"Declarations"}),(0,p.jsx)("input",{type:"text",required:!0,className:"py-2 px-4 bg-gray-100 w-full mb-6 capitalize rounded",name:"declarations",value:le,onChange:function(e){return oe(e.target.value)}}),(0,p.jsx)("label",{htmlFor:"notesForUser",className:"text-sm",children:"Any notes for customers ?"}),(0,p.jsx)("input",{type:"text",required:!0,className:"py-2 px-4 bg-gray-100 w-full mb-6 capitalize rounded",name:"notesForUser",value:de,onChange:function(e){return me(e.target.value)}}),(0,p.jsxs)("div",{className:"flex items-center space-x-4 w-full",children:[(0,p.jsx)("div",{className:"flex flex-col w-1/2",children:(0,p.jsx)("img",{src:pe,alt:"Logo",className:" w-full max-h-[300px]"})}),(0,p.jsxs)("div",{className:"flex flex-col w-full",children:[(0,p.jsx)("label",{htmlFor:"logo",className:"text-sm mb-1",children:"https://www.pesmcopt.com/admin-media/images/default-logo.png"===pe&&"Upload logo"}),(0,p.jsx)("input",{type:"file",accept:"image/*",className:"w-full mb-6  rounded",name:"logo",onChange:function(e){var n=new FileReader;e.target.files[0]&&n.readAsDataURL(e.target.files[0]),n.onload=function(e){fe(e.target.result)}}})]})]}),(0,p.jsx)("button",{className:"bg-blue-800 text-gray-100 w-full p-5 rounded my-6",children:Ce?"COMPLETE PROFILE":"UPDATE PROFILE"})]})]})]})})}},7201:function(e,n,s){s.d(n,{C9:function(){return r},CF:function(){return a},Vb:function(){return i}});var t=s(6960),a=function(e,n){"success"===e?t.Am.success(n,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):t.Am.error(n,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},r=function(e){return e?new Date(1e3*e.seconds).toLocaleString():"00-00-0000"},i=function(e){return parseFloat((Math.round(100*e)/100).toFixed(2))}},9031:function(e,n,s){var t=s(4942),a=(0,s(2455).Z)((function(e){return{toolBar:{height:"10vh",display:"flex",justifyContent:"space-between",padding:"20px",backgroundColor:"white"},logo:{color:"#041562",cursor:"pointer"},inputField:{marginBottom:"20px !important",width:"100%"},link:{color:"#000",cursor:"pointer"},menuIcon:{color:"#000"},heroContainer:{width:"100%",minHeight:"80vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},heroText:{marginBottom:"20px !important",fontWeight:"bolder",color:"#041562"},heroSubtitle:{marginBottom:"30px !important",color:"#11468F",opacity:"0.8"},authGridContainer:{width:"100%",height:"100%"},authGridImage:(0,t.Z)({backgroundColor:"#11468F",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"5px"},e.breakpoints.between("xs","md"),{display:"none"}),authSvg:{width:"100%"},authForm:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column !important"},authFormContainer:(0,t.Z)({padding:"10px 15px 0px 15px"},e.breakpoints.between("xs","sm"),{padding:"10px 15px 0px 15px"})}}));n.Z=a}}]);
//# sourceMappingURL=860.cf90fa8b.chunk.js.map