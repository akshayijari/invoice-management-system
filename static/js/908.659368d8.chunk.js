"use strict";(self.webpackChunkinvoicer=self.webpackChunkinvoicer||[]).push([[908],{3791:function(e,n,t){t.d(n,{Z:function(){return k}});var i=t(1413),r=t(9439),s=t(4554),o=t(493),c=t(4852),l=t(6259),a=t(4395),d=t(4663),u=t(890),x=t(3400),h=t(9953),f=t(2791),m=t(2279);var p=function(e){var n=e.children,t=e.window,i=(0,m.Z)({disableHysteresis:!0,threshold:0,target:t?t():void 0});return f.cloneElement(n,{elevation:i?4:0})},v=t(8008),j=t(9031),g=t(3967),Z=t(5193),b=t(6030),y=t(1087),C=t(7201),w=t(7689),N=t(184),k=function(e){var n=(0,j.Z)(),t=(0,f.useState)(!1),m=(0,r.Z)(t,2),k=m[0],F=m[1],z=(0,f.useState)(!1),S=(0,r.Z)(z,2),I=S[0],H=S[1],P=(0,b.v9)((function(e){return e.user.user})),B=(0,w.s0)(),M=function(e){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&F(e)}};(0,f.useEffect)((function(){P.id?H(!0):H(!1)}),[P.id]);var O=function(){window.location.reload(!1),(0,C.CF)("success","Goodbye!\ud83d\udc4b")},A=function(){B("/profile",{state:{source:"from_dashboard"}})},D=function(){B("/dashboard")},G=(0,g.Z)(),V=(0,Z.Z)(G.breakpoints.down("sm"));return(0,N.jsx)(s.Z,{sx:{marginBottom:"70px"},children:(0,N.jsx)(p,(0,i.Z)((0,i.Z)({},e),{},{children:(0,N.jsx)(a.Z,{children:(0,N.jsxs)(d.Z,{className:n.toolBar,children:[I?(0,N.jsx)(y.rU,{to:"/dashboard",children:(0,N.jsx)(u.Z,{variant:"h6",className:n.logo,children:"Invoicer"})}):(0,N.jsx)(y.rU,{to:"/invoice-management-system",children:(0,N.jsx)(u.Z,{variant:"h6",className:n.logo,children:"Invoicer"})}),V?(0,N.jsxs)(s.Z,{children:[(0,N.jsx)(x.Z,{size:"large",edge:"end",color:"inherit","aria-label":"menu",onClick:M(!0),children:(0,N.jsx)(v.Z,{className:n.menuIcon,fontSize:"large"})}),(0,N.jsx)(h.ZP,{anchor:"right",open:k,onClose:M(!1),children:(0,N.jsx)(s.Z,{sx:{width:250},role:"presentation",onClick:M(!1),onKeyDown:M(!1),children:(0,N.jsx)(o.Z,{children:I?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(c.ZP,{onClick:function(){return D()},children:(0,N.jsx)(l.Z,{primary:"Home"})}),(0,N.jsx)(c.ZP,{onClick:function(){return A()},children:(0,N.jsx)(l.Z,{primary:"Profile"})}),(0,N.jsx)(c.ZP,{onClick:function(){return O()},children:(0,N.jsx)(l.Z,{primary:"Sign Out"})})]}):(0,N.jsx)(y.rU,{to:"/login",children:(0,N.jsx)(c.ZP,{button:!0,children:(0,N.jsx)(l.Z,{primary:"Log in"})})})})})})]}):(0,N.jsx)(s.Z,{sx:{display:"flex",justifyContent:"space-between",flexGrow:"0.05"},children:I?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(u.Z,{className:n.link,onClick:function(){return D()},children:"Home"}),(0,N.jsx)(u.Z,{className:n.link,onClick:function(){return A()},children:"Profile"}),(0,N.jsx)(u.Z,{className:n.link,onClick:function(){return O()},children:"Sign Out"})]}):(0,N.jsx)(y.rU,{to:"/login",children:(0,N.jsx)(u.Z,{className:n.link,children:"Log in"})})})]})})}))})}},7908:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var i=t(9439),r=t(2791),s=t(3791),o=t(4165),c=t(5861),l=t(7689),a=t(1978),d=t(6312),u=t(7201),x=t(3746),h=t(1286),f=t(7247),m=t(184),p=function(e){var n=e.invoiceId,t=(0,l.s0)();function s(){return(s=(0,c.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.oe)((0,a.JU)(d.ZP,"invoices",n));case 3:g(!j),(0,u.CF)("success","Deleted successfully!\ud83d\ude80"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,u.CF)("error","Failed, Try again!\ud83d\ude2d");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var p=r.useState(!1),v=(0,i.Z)(p,2),j=v[0],g=v[1];return(0,m.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,m.jsx)(h.Z,{color:"primary",onClick:function(){return t("/edit/invoice/".concat(n))}}),(0,m.jsx)(f.Z,{color:"error",onClick:function(){g(!j)}}),(0,m.jsx)(x.Z,{color:"primary",onClick:function(){return t("/view/invoice/".concat(n))}}),j?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,m.jsx)("div",{className:"relative w-2/3 my-6 mx-auto max-w-3xl",children:(0,m.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,m.jsx)("div",{className:"flex items-start justify-center items-center p-5 border-b border-solid border-slate-200 rounded-t",children:(0,m.jsx)("h3",{className:"text-3xl font-semibold text-red-500",children:"!!! Warning !!!"})}),(0,m.jsx)("div",{className:"relative p-6 flex-auto",children:(0,m.jsx)("p",{className:"my-4 text-slate-500 text-lg leading-relaxed",children:"Are you sure do you want to delete this entry?"})}),(0,m.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-slate-200 rounded-b",children:[(0,m.jsx)("button",{className:"background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return g(!1)},children:"Close"}),(0,m.jsx)("button",{className:"bg-red-500 text-white active:bg-red-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return function(e){return s.apply(this,arguments)}(n)},children:"Delete"})]})]})})}),(0,m.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):null]})},v=function(e){var n=e.invoices;return console.log("invoices",n),(0,m.jsxs)("div",{className:"w-full",children:[(0,m.jsx)("h3",{className:"text-xl text-blue-700 font-semibold",children:"Recent Invoices "}),(0,m.jsx)("div",{className:"w-full overflow-auto",children:(0,m.jsxs)("table",{children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{className:"text-blue-600",children:"Customer"}),(0,m.jsx)("th",{className:"text-blue-600",children:"Invoice No."}),(0,m.jsx)("th",{className:"text-blue-600",children:"City"}),(0,m.jsx)("th",{className:"text-blue-600",children:"GSTN"}),(0,m.jsx)("th",{className:"text-blue-600",children:"Actions"})]})}),(0,m.jsx)("tbody",{children:n.map((function(e){return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{className:"text-sm",children:e.data.customerName}),(0,m.jsx)("td",{className:"text-sm",children:e.data.invoiceNo}),(0,m.jsx)("td",{className:"text-sm",children:e.data.customerCity}),(0,m.jsx)("td",{className:"text-sm",children:e.data.customerGSTN}),(0,m.jsx)("td",{children:(0,m.jsx)(p,{invoiceId:e.id})})]},e.id)}))})]})})]})},j=t(6030),g=t(9692),Z=t(9388),b=t(3400),y=t(6520),C=t(8439),w=function(){var e=(0,l.s0)(),n=(0,j.v9)((function(e){return e.user.user})),t=(0,r.useState)([]),o=(0,i.Z)(t,2),c=o[0],a=o[1],u=(0,r.useState)(!0),x=(0,i.Z)(u,2),h=x[0],f=x[1];return(0,r.useEffect)((function(){if(!n.id)return e("/login");try{var t=(0,g.IO)((0,g.hJ)(d.ZP,"invoices"),(0,g.ar)("user_id","==",n.id)),i=(0,g.cf)(t,(function(e){var n=[];return e.forEach((function(e){n.push({data:e.data(),id:e.id})})),a(n),f(!1),function(){return i()}}))}catch(r){console.log(r)}}),[e,n.id]),(0,m.jsx)(m.Fragment,{children:h?(0,m.jsx)(Z.Z,{}):(0,m.jsxs)("div",{className:"w-full",children:[(0,m.jsx)(s.Z,{}),(0,m.jsxs)("div",{className:"sm:p-6 flex items-center flex-col p-3 justify-center",children:[(0,m.jsx)(y.Z,{title:"Create invoice",children:(0,m.jsx)(b.Z,{onClick:function(){return e("/new/invoice")},style:{position:"fixed",bottom:"20px",right:"10px",zIndex:"1000px"},children:(0,m.jsx)(C.Z,{color:"primary",sx:{fontSize:50}})})}),0!==c.length&&(0,m.jsx)(v,{invoices:c})]})]})})}},7201:function(e,n,t){t.d(n,{CF:function(){return r},Vb:function(){return s}});var i=t(6960),r=function(e,n){"success"===e?i.Am.success(n,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):i.Am.error(n,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},s=function(e){return parseFloat((Math.round(100*e)/100).toFixed(2))}},9031:function(e,n,t){var i=t(4942),r=(0,t(2455).Z)((function(e){return{toolBar:{height:"10vh",display:"flex",justifyContent:"space-between",padding:"20px",backgroundColor:"white"},logo:{color:"#041562",cursor:"pointer"},inputField:{marginBottom:"20px !important",width:"100%"},link:{color:"#000",cursor:"pointer"},menuIcon:{color:"#000"},heroContainer:{width:"100%",minHeight:"80vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},heroText:{marginBottom:"20px !important",fontWeight:"bolder",color:"#041562"},heroSubtitle:{marginBottom:"30px !important",color:"#11468F",opacity:"0.8"},authGridContainer:{width:"100%",height:"100%"},authGridImage:(0,i.Z)({backgroundColor:"#11468F",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"5px"},e.breakpoints.between("xs","md"),{display:"none"}),authSvg:{width:"100%"},authForm:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column !important"},authFormContainer:(0,i.Z)({padding:"10px 15px 0px 15px"},e.breakpoints.between("xs","sm"),{padding:"10px 15px 0px 15px"})}}));n.Z=r},8439:function(e,n,t){var i=t(4836);n.Z=void 0;var r=i(t(5649)),s=t(184),o=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");n.Z=o},7247:function(e,n,t){var i=t(4836);n.Z=void 0;var r=i(t(5649)),s=t(184),o=(0,r.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=o},1286:function(e,n,t){var i=t(4836);n.Z=void 0;var r=i(t(5649)),s=t(184),o=(0,r.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.Z=o},3746:function(e,n,t){var i=t(4836);n.Z=void 0;var r=i(t(5649)),s=t(184),o=(0,r.default)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");n.Z=o}}]);
//# sourceMappingURL=908.659368d8.chunk.js.map